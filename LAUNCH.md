# Запуск ERP Rent для первых пользователей

Краткая инструкция по запуску и тестированию системы управления коммерческой недвижимостью.

> **Хотите выложить в интернет и скинуть ссылку тестерам?** См. **[DEPLOY.md](DEPLOY.md)** — пошаговый деплой на Render и Vercel.

## Требования

- **Node.js** 18+ (проверка: `node -v`)
- **npm** (идёт с Node.js)

## 1. Установка зависимостей

```bash
# Backend
cd backend
npm install

# Frontend (в отдельном терминале или после backend)
cd frontend
npm install
```

## 2. Запуск

**Терминал 1 — backend (API):**
```bash
cd backend
npm run dev
```
Должно появиться: `Server is running on http://localhost:3002`

**Терминал 2 — frontend:**
```bash
cd frontend
npm run dev
```
Откройте в браузере: **http://localhost:3000**

## 3. Первый вход

1. На открывшейся странице выберите вкладку **«Регистрация»**.
2. Укажите email, пароль (не менее 6 символов) и при желании имя.
3. Нажмите **«Зарегистрироваться»** — вы будете авторизованы и попадёте на главную (Дашборд).

## 4. Что можно сделать после входа

| Раздел | Действия |
|--------|----------|
| **Главная** | Метрики (план/факт), уведомления о платежах, список объектов и юнитов |
| **Объекты** | Добавить/редактировать/удалить объекты недвижимости |
| **Юниты** | Добавить помещения к объектам, указать площадь и цену за м² |
| **Арендаторы** | Внести арендаторов (название, контакты) |
| **Договоры** | Заключить договор аренды (юнит + арендатор + даты + плата) |
| **Платежи** | Вкладки: обязательные платежи, платежи от арендаторов (данные из Финансов) |
| **Финансы** | Добавлять и редактировать транзакции (доходы/расходы), категории, «от кого платёж» |
| **Отчёты** | График платежей по месяцам, прогноз по юнитам |
| **Настройки** | Просмотр текущего пользователя |

## 5. Хранение данных

- По умолчанию данные хранятся в **JSON-файле** в папке временных файлов ОС.
- Чтобы хранить данные в папке проекта, создайте в `backend` файл **`.env`** и добавьте:
  ```
  DB_PATH=./data
  ```
  После первого запуска появится папка `backend/data` и файл `data.json`.

## 6. Порты

- **Frontend:** 3000 (если занят — 3001)
- **Backend API:** 3002 (проксируется с frontend по пути `/api`)

При ошибке «Сервер недоступен» убедитесь, что backend запущен на порту 3002.

## 7. Тестирование для первых пользователей

Рекомендуемый порядок проверки:

1. Регистрация и вход.
2. Создать объект (Объекты → Добавить).
3. Создать юнит у объекта (Юниты → Добавить).
4. Добавить арендатора (Арендаторы → Добавить).
5. Создать договор (Договоры → Создать договор), выбрав юнит и арендатора.
6. В Финансах добавить несколько транзакций (доходы и расходы), отметить при необходимости «Обязательный платёж» и «Платеж от арендатора».
7. Проверить Платежи (вкладки обязательные / от арендаторов).
8. Открыть Отчёты — график и прогноз по юнитам.
9. На Главной проверить уведомления о платежах.

---

## Чек-лист для тестирования

- [ ] Регистрация и вход
- [ ] Главная: метрики, уведомления о платежах, быстрые действия
- [ ] Объекты: создание, редактирование, удаление
- [ ] Юниты: создание (привязка к объекту), редактирование
- [ ] Арендаторы: создание, редактирование
- [ ] Договоры: создание (юнит + арендатор), фильтр по статусу
- [ ] Финансы: добавление транзакции (категории по типу, «от кого платёж»), редактирование
- [ ] Платежи: вкладки обязательные / от арендаторов, выбор месяца
- [ ] Отчёты: график платежей, прогноз по юнитам
- [ ] Настройки: отображение пользователя
- [ ] Выход и повторный вход

---

При проблемах: проверьте консоль браузера (F12) и вывод в терминале backend.
